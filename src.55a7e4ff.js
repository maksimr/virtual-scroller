parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ZBnv":[function(require,module,exports) {
function o(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}module.exports=o,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"NoOd":[function(require,module,exports) {
function e(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(r,o,t){return o&&e(r.prototype,o),t&&e(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}module.exports=r,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"ek76":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scrollbar=void 0,exports.calcMaxBrowserScrollSize=l,exports.findScrollableElement=r;var t=i(require("@babel/runtime/helpers/classCallCheck")),e=i(require("@babel/runtime/helpers/createClass"));function i(t){return t&&t.__esModule?t:{default:t}}var o=exports.Scrollbar=function(){function i(e,o){(0,t.default)(this,i),this.scrollPosition=0,this.viewportElement=e,this.scrollElement=r(this.viewportElement),this.scrollListenElement=this.scrollElement===document.documentElement?window:this.scrollElement,this.scrollListener=o.scrollListener,this.horizontal=o.horizontal,this.viewportSize=this.horizontal?this.scrollElement.clientWidth:this.scrollElement.clientHeight,this.maxScrollSize=Math.round(l(this.horizontal)/2),this.currentPage=0,this.prevViewportScrollPosition=0,this.currentPageOffset=0,this.runwayElement=document.createElement("div"),this.runwayElement.style.width=this.runwayElement.style.height="1px",this.runwayElement.style[this.horizontal?"width":"height"]=this.scrollSize+"px",this.runwayElement.style.position="relative",this.runwayElement.style.visibility="hidden",this.runwayElement.style.overflow="hidden",this.updateTotalSize(o.totalSize||0),"static"===window.getComputedStyle(this.viewportElement).position&&(this.viewportElement.style.position="relative"),this.viewportElement.firstChild?this.viewportElement.insertBefore(this.runwayElement,this.viewportElement.firstChild):this.viewportElement.appendChild(this.runwayElement),this.addScrollListener(),o.scrollPosition&&this.scrollTo(o.scrollPosition)}return(0,e.default)(i,[{key:"onScroll",value:function(){var t=this.getViewportScrollPosition();Math.abs(t-this.prevViewportScrollPosition)>this.viewportSize?this.onJump():this.onSmoothScroll(),this.prevViewportScrollPosition=this.getViewportScrollPosition(),this.updateScrollPosition(this.getViewportScrollPosition()+this.currentPageOffset),this.scrollListener()}},{key:"updateScrollPosition",value:function(t){this.scrollPosition=Math.max(t,0)}},{key:"getViewportScrollPosition",value:function(){return Math.max(this.browserScrollPosition()-this.getOffsetBetweenScrollElementAndViewport(),0)}},{key:"getOffsetBetweenScrollElementAndViewport",value:function(){return this.scrollElement!==this.viewportElement?s(this.viewportElement,this.scrollElement,this.horizontal):0}},{key:"viewportScrollTo",value:function(t){var e=this.getOffsetBetweenScrollElementAndViewport();return this.browserScrollPosition(t+e)}},{key:"browserScrollPosition",value:function(t){if(!arguments.length)return this.horizontal?this.scrollElement.scrollLeft:this.scrollElement.scrollTop;this.horizontal?this.scrollElement.scrollLeft=t:this.scrollElement.scrollTop=t}},{key:"onSmoothScroll",value:function(){var t=this.getViewportScrollPosition();t+this.currentPageOffset>(this.currentPage+1)*this.pageSize?this.scrollToNextPage():this.currentPage&&t+this.currentPageOffset<this.currentPage*this.pageSize&&this.scrollToPrevPage()}},{key:"scrollToNextPage",value:function(){this.scrollOnPage(this.currentPage+1)}},{key:"scrollToPrevPage",value:function(){this.scrollOnPage(this.currentPage-1)}},{key:"onJump",value:function(){var t=this.getViewportScrollPosition()*((this.totalSize-this.viewportSize)/(this.scrollSize-this.viewportSize)),e=Math.floor(t/this.pageSize);this.setCurrentPage(e)}},{key:"scrollOnPage",value:function(t){var e=this.currentPage;e<t?this.viewportScrollTo(this.getViewportScrollPosition()-this.overlapSize):e>t&&this.viewportScrollTo(this.getViewportScrollPosition()+this.overlapSize),this.setCurrentPage(t)}},{key:"setCurrentPage",value:function(t){t!==this.currentPage&&(this.currentPage=Math.max(t,0),this.currentPageOffset=Math.round(this.currentPage*this.overlapSize))}},{key:"addScrollListener",value:function(){this.onScroll=this.onScroll.bind(this),this.scrollListenElement.addEventListener("scroll",this.onScroll)}},{key:"removeScrollListener",value:function(){this.scrollListenElement.removeEventListener("scroll",this.onScroll)}},{key:"updateTotalSize",value:function(t){if(this.totalSize!==t){this.totalSize=t,this.scrollSize=this.maxScrollSize>this.totalSize?this.totalSize:this.maxScrollSize,this.pageSize=Math.floor(this.maxScrollSize/100),this.pageCount=Math.ceil(this.totalSize/this.pageSize);var e=this.overlapSize;this.overlapSize=this.totalSize>this.maxScrollSize?(this.totalSize-this.maxScrollSize)/(this.pageCount-1):1,this.currentPageOffset=Math.round(this.currentPage*this.overlapSize),this.runwayElement.style[this.horizontal?"width":"height"]=this.scrollSize+"px",this.scrollPosition>this.totalSize-this.viewportSize&&this.updateScrollPosition(this.totalSize-this.viewportSize),this.currentPage===this.pageCount-1&&e&&e<this.overlapSize&&(this.prevViewportScrollPosition=this.viewportScrollTo(this.prevViewportScrollPosition-this.currentPage*(this.overlapSize-e)))}}},{key:"scrollTo",value:function(t){if(this.scrollPosition!==t){this.updateScrollPosition(t);var e=Math.floor(t/this.pageSize);this.setCurrentPage(e),this.prevViewportScrollPosition=this.viewportScrollTo(t-this.currentPageOffset)}}},{key:"calc",value:function(t){return t-this.currentPageOffset}},{key:"destroy",value:function(){this.viewportElement.removeChild(this.runwayElement),this.removeScrollListener()}}],[{key:"builder",value:function(t,e){return new i(t,e)}}])}();function l(t){var e="9999999999999999px",i=document.createElement("div"),o=i.style;o.position="absolute",o.left=e,o.top=e,document.body.appendChild(i);var l=i.getBoundingClientRect()[t?"left":"top"]||parseInt(e);return document.body.removeChild(i),Math.abs(l)}function r(t){for(;t.parentNode&&t.parentNode!==document;){var e=window.getComputedStyle(t).overflow;if("visible"!==e&&""!==e)break;t=t.parentNode}return t}function s(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===document.documentElement){var o=t.getBoundingClientRect(),l=e.getBoundingClientRect();return i?o.left-l.left:o.top-l.top}for(var r=0;t&&t.parentNode&&t!==e;){var s=t.parentNode,n=i?t.offsetLeft:t.offsetTop;r="static"!==window.getComputedStyle(s).position?r+n:r+(n-(i?s.offsetLeft:s.offsetTop)),t=s}return r}
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"NoOd"}],"JAsw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizeManager=void 0;var e=s(require("@babel/runtime/helpers/classCallCheck")),t=s(require("@babel/runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{default:e}}var i=50,r=exports.SizeManager=function(){function s(t){(0,e.default)(this,s),this.horizontal=t,this.reset()}return(0,t.default)(s,[{key:"has",value:function(e){return this.sizes.has(e)}},{key:"measure",value:function(e){var t=this.sizes.get(e);void 0===t&&(t=0,this.measuredCount++);var s=this.horizontal?e.offsetWidth:e.offsetHeight;this.totalMeasuredSize+=s-t,this.sizes.set(e,s)}},{key:"getHopefulSize",value:function(e){var t=this.sizes.get(e);return void 0===t?this.getAverageSize():t}},{key:"getAverageSize",value:function(){return this.measuredCount>0?this.totalMeasuredSize/this.measuredCount:i}},{key:"remove",value:function(e){var t=this.sizes.get(e);void 0!==t&&(this.totalMeasuredSize-=t,this.measuredCount--,this.sizes.delete(e))}},{key:"reset",value:function(){this.sizes=new WeakMap,this.totalMeasuredSize=0,this.measuredCount=0}}],[{key:"builder",value:function(){return new s(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}}])}();
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"NoOd"}],"UdPf":[function(require,module,exports) {
"use strict";function e(e,r){var n,s,l={passive:!0,capture:!0},d=i();return e.appendChild(d),d.addEventListener("scroll",c,l),o(function(){return t(d)}),function(){d.removeEventListener("scroll",c,l),e.removeChild(d)};function c(i){n===e.offsetHeight&&s===e.offsetWidth||(n=e.offsetHeight,s=e.offsetWidth,t(i.currentTarget),r(e))}}function t(e){var t=e.firstChild,i=e.lastChild,r=t.offsetHeight,n=t.offsetWidth,s=t.scrollHeight,l=t.scrollWidth,d=i.scrollHeight,c=i.scrollWidth;function u(){t.scrollTop=s,t.scrollLeft=l,i.scrollTop=d,i.scrollLeft=c}o(function(){var e=t.firstChild;e.style.height=r+1+"px",e.style.width=n+1+"px",o(u)})}function i(){if(!i.resizeObserver){var e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("div"),r="position: absolute; height: 100%; width: 100%; top:0; left:0; opacity: 0; visibility: hidden; z-index: -1; overflow: hidden; contain: paint size style; pointer-events: none;";e.setAttribute("style",r),t.setAttribute("style",r),o.setAttribute("style",r),t.style.overflow=o.style.overflow="auto",t.appendChild(document.createElement("div")),o.appendChild(document.createElement("div")),e.appendChild(t),e.appendChild(o);var n=o.firstChild;n.style.height="200%",n.style.width="200%",i.resizeObserver=e}return i.resizeObserver.cloneNode(!0)}function o(e){return"function"!=typeof window.queueMicrotask?window.Promise?window.Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})}):e():window.queueMicrotask(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addResizeListener=e;
},{}],"X7WK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VirtualScroller=void 0;var e=n(require("@babel/runtime/helpers/classCallCheck")),t=n(require("@babel/runtime/helpers/createClass")),i=require("./scrollbar"),r=require("./size-manager"),s=require("./resize-observer");function n(e){return e&&e.__esModule?e:{default:e}}var o=exports.VirtualScroller=function(){function n(t,s){var o=this;(0,e.default)(this,n),this.viewportElement=t,this.itemCount=s.itemCount,this.horizontal=Boolean(s.horizontal),this.onRemoveItem=s.onRemoveItem,this.itemBuilder=s.itemBuilder,this.bufferSize=s.hasOwnProperty("bufferSize")?s.bufferSize:1,this.sizeManager=r.SizeManager.builder(this.horizontal),this.expectedItemSize=s.itemSize||this.sizeManager.getAverageSize(),this.expectedTotalSize=this.itemCount*this.expectedItemSize,this.rendered={},this.range={start:0,end:0},this.prevScrollPosition=s.scrollPosition||0,this.throttleTime=50,this.scrollbar=i.Scrollbar.builder(this.viewportElement,{horizontal:this.horizontal,scrollPosition:this.prevScrollPosition,totalSize:this.expectedTotalSize,scrollListener:function(){return o.onScroll()}}),this.scheduleSync()}return(0,t.default)(n,[{key:"onScroll",value:function(){var e=this,t=this.scrollPosition();window.clearTimeout(this.scrollThrottlingId),Math.abs(t-this.prevScrollPosition)>this.scrollbar.viewportSize?this.scrollThrottlingId=setTimeout(function(){e.scheduleSync()},this.throttleTime):this.scheduleSync(),this.prevScrollPosition=t}},{key:"scheduleSync",value:function(){var e=this;this.syncId=this.syncId||window.requestAnimationFrame(function(){e.syncId=null,e.sync()})}},{key:"sync",value:function(){this.render(this.createRangeForCurrentPosition())}},{key:"createRangeForCurrentPosition",value:function(){for(var e=this.scrollPosition(),t=this.scrollbar.viewportSize,i=this.bufferSize*t,r=Math.max(e-i,0),s=e+t+i,n=Math.floor(r/this.expectedItemSize),o=this.range.start;o<=this.range.end;o++)if(this.rendered[o]&&this.rendered[o].offset+this.sizeManager.getHopefulSize(this.rendered[o])>r&&this.rendered[o].offset<s){n=o;break}for(var l=Math.ceil(s/this.expectedItemSize)-1,a=this.range.end;a>=this.range.start;a--)if(this.rendered[a]&&this.rendered[a].offset<s&&this.rendered[a].offset>=r){l=a;break}var h=this.sizeManager.getAverageSize(),d=this.rendered[n];d&&d.offset>r&&(n-=Math.ceil((d.offset-r)/h));var c=this.rendered[l];c&&c.offset+this.sizeManager.getHopefulSize(c)<s&&(l+=Math.ceil((s-(c.offset+this.sizeManager.getHopefulSize(c)))/h));var u=this.itemCount-1;return{start:Math.min(Math.max(n,0),u),end:Math.max(Math.min(l,u),0)}}},{key:"render",value:function(e){for(var t=this,i=this.findFirstVisibleItemIndex(),r=[],n=document.createDocumentFragment(),o=e.start;o<=e.end;o++)if(this.rendered[o])n.firstChild&&(this.viewportElement.insertBefore(n,this.rendered[o]),n=document.createDocumentFragment());else{var l=this.rendered[o]=this.createElement(o);r.push(l),n.appendChild(l)}this.viewportElement.appendChild(n),r.forEach(function(e){(0,s.addResizeListener)(e,function(){t.sizeManager.remove(e),t.scheduleSync()})});for(var a=this.range.start;a<=this.range.end;a++)(a<e.start||a>e.end)&&this.rendered[a]&&(this.onRemoveItem&&this.onRemoveItem(a),this.sizeManager.remove(this.rendered[a]),this.viewportElement.removeChild(this.rendered[a]),delete this.rendered[a]);for(var h=e.start;h<=e.end;h++)this.sizeManager.has(this.rendered[h])||this.sizeManager.measure(this.rendered[h]);if(this.rendered[i]&&e.start<i)for(var d=this.rendered[i].offset,c=i-1;c>=e.start;c--){var u=this.rendered[c];d-=this.sizeManager.getHopefulSize(u),this.positionElement(u,Math.max(d,0))}0===e.start&&this.rendered[0].offset>0&&(this.rendered[0].offset=0);for(var f=0,m=this.rendered[e.start],v=m&&m.offset?m.offset:e.start*this.expectedItemSize,z=e.start;z<=e.end;z++){var p=this.rendered[z];z===i&&(f=v-p.offset),this.positionElement(p,v),v+=this.sizeManager.getHopefulSize(p)}f&&this.scrollTo(this.scrollPosition()+f);var S=v-e.end*this.expectedItemSize,g=this.scrollbar.totalSize-this.scrollbar.viewportSize,b=this.itemCount-1;this.scrollPosition()>=g&&(v>this.scrollbar.totalSize||e.end<b)?this.scrollbar.updateTotalSize(this.expectedTotalSize+S):e.end===b&&this.scrollbar.updateTotalSize(v),this.range=e;var y=this.createRangeForCurrentPosition();y.start===e.start&&y.end===e.end||this.scheduleSync()}},{key:"findFirstVisibleItemIndex",value:function(){var e=this,t=this.scrollPosition(),i=Object.keys(this.rendered).find(function(i){var r=e.rendered[i];return r.offset<=t&&r.offset+e.sizeManager.getHopefulSize(r)>t});return i?Number(i):-1}},{key:"createElement",value:function(e){var t=document.createElement("div");return t.setAttribute("index",String(e)),t.style.position="absolute",t.style[this.horizontal?"height":"width"]="100%",t.appendChild(this.itemBuilder(e)),t}},{key:"positionElement",value:function(e,t){e.style[this.horizontal?"left":"top"]=this.scrollbar.calc(t)+"px",e.offset=t}},{key:"scrollPosition",value:function(){return this.scrollbar.scrollPosition}},{key:"scrollTo",value:function(e){this.scrollbar.scrollTo(e)}},{key:"destroy",value:function(){this.scrollbar.destroy(),this.sizeManager=null,this.rendered=null,window.cancelAnimationFrame(this.syncId),window.clearTimeout(this.scrollThrottlingId),this.syncId=null,this.scrollThrottlingId=null}},{key:"updateItemCount",value:function(e){this.itemCount!==e&&(this.itemCount=e,this.expectedTotalSize=this.itemCount*this.expectedItemSize,this.scrollbar.updateTotalSize(this.expectedTotalSize),this.scheduleSync())}}],[{key:"builder",value:function(e,t){return new n(e,t)}}])}();
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"NoOd","./scrollbar":"ek76","./size-manager":"JAsw","./resize-observer":"UdPf"}],"H99C":[function(require,module,exports) {
"use strict";var e=require("../lib/virtual-scroller");function t(){var t=JSON.parse(decodeURIComponent(window.location.search.slice(1))||"{}"),n=t.itemCount||3e6,i=document.getElementById("app");t.window||(i.style.height="80vh",i.style.overflow="auto"),e.VirtualScroller.builder(i,Object.assign({itemCount:n,itemBuilder:function(e){var i=document.createElement("div");return i.style.padding="8px",t.horizontal&&(i.style.width="300px"),i.innerHTML=e%2?"<b>".concat(e+1,"</b>/").concat(n," - Lorem Ipsum is simply dummy text"):"<b>".concat(e+1,"</b>/").concat(n," - Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book"),i}},t))}t();
},{"../lib/virtual-scroller":"X7WK"}]},{},["H99C"], null)
//# sourceMappingURL=src.55a7e4ff.js.map