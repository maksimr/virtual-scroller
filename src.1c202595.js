parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ZBnv":[function(require,module,exports) {
function n(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}module.exports=n;
},{}],"NoOd":[function(require,module,exports) {
function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}module.exports=r;
},{}],"ek76":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calcMaxBrowserScrollSize=l,exports.findScrollableElement=r,exports.Scrollbar=void 0;var e=i(require("@babel/runtime/helpers/classCallCheck")),t=i(require("@babel/runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function i(t,o){(0,e.default)(this,i),this.scrollTop=0,this.viewportElement=t,this.scrollElement=r(this.viewportElement),this.scrollListenElement=this.scrollElement===document.documentElement?window:this.scrollElement,this.scrollListener=o.scrollListener,this.horizontal=o.horizontal,this.viewportSize=this.horizontal?this.scrollElement.clientWidth:this.scrollElement.clientHeight,this.maxScrollSize=Math.round(l(this.horizontal)/2),this.currentPage=0,this.prevViewportScrollTop=0,this.currentPageOffset=0,this.runwayElement=document.createElement("div"),this.runwayElement.style[this.horizontal?"width":"height"]=this.scrollSize+"px",this.runwayElement.style.position="relative",this.runwayElement.style.visibility="hidden",this.runwayElement.style.overflow="hidden",this.runwayElement.style.width="1px",this.updateTotalSize(o.totalSize||0),"static"===window.getComputedStyle(this.viewportElement).position&&(this.viewportElement.style.position="relative"),this.viewportElement.firstChild?this.viewportElement.insertBefore(this.runwayElement,this.viewportElement.firstChild):this.viewportElement.appendChild(this.runwayElement),this.addScrollListener(),o.scrollTop&&this.scrollTo(o.scrollTop)}return(0,t.default)(i,null,[{key:"builder",value:function(e,t){return new i(e,t)}}]),(0,t.default)(i,[{key:"onScroll",value:function(){var e=this.getViewportScrollTop();Math.abs(e-this.prevViewportScrollTop)>this.viewportSize?this.onJump():this.onSmoothScroll(),this.prevViewportScrollTop=this.getViewportScrollTop(),this.updateScrollTop(this.getViewportScrollTop()+this.currentPageOffset),this.scrollListener()}},{key:"updateScrollTop",value:function(e){this.scrollTop=Math.max(e,0)}},{key:"getViewportScrollTop",value:function(){return Math.max(this.scrollElement.scrollTop-this.getOffsetBetweenScrollElementAndViewport(),0)}},{key:"getOffsetBetweenScrollElementAndViewport",value:function(){return this.scrollElement!==this.viewportElement?s(this.viewportElement,this.scrollElement):0}},{key:"viewportScrollTo",value:function(e){var t=this.getOffsetBetweenScrollElementAndViewport();return this.scrollElement.scrollTop=e+t}},{key:"onSmoothScroll",value:function(){var e=this.getViewportScrollTop();e+this.currentPageOffset>(this.currentPage+1)*this.pageSize?this.scrollToNextPage():this.currentPage&&e+this.currentPageOffset<this.currentPage*this.pageSize&&this.scrollToPrevPage()}},{key:"scrollToNextPage",value:function(){this.scrollOnPage(this.currentPage+1)}},{key:"scrollToPrevPage",value:function(){this.scrollOnPage(this.currentPage-1)}},{key:"onJump",value:function(){var e=this.getViewportScrollTop()*((this.totalSize-this.viewportSize)/(this.scrollSize-this.viewportSize)),t=Math.floor(e/this.pageSize);this.setCurrentPage(t)}},{key:"scrollOnPage",value:function(e){var t=this.currentPage;t<e?this.viewportScrollTo(this.getViewportScrollTop()-this.overlapSize):t>e&&this.viewportScrollTo(this.getViewportScrollTop()+this.overlapSize),this.setCurrentPage(e)}},{key:"setCurrentPage",value:function(e){e!==this.currentPage&&(this.currentPage=Math.max(e,0),this.currentPageOffset=Math.round(this.currentPage*this.overlapSize))}},{key:"addScrollListener",value:function(){this.onScroll=this.onScroll.bind(this),this.scrollListenElement.addEventListener("scroll",this.onScroll)}},{key:"removeScrollListener",value:function(){this.scrollListenElement.removeEventListener("scroll",this.onScroll)}},{key:"updateTotalSize",value:function(e){if(this.totalSize!==e){this.totalSize=e,this.scrollSize=this.maxScrollSize>this.totalSize?this.totalSize:this.maxScrollSize,this.pageSize=Math.floor(this.maxScrollSize/100),this.pageCount=Math.ceil(this.totalSize/this.pageSize);var t=this.overlapSize;this.overlapSize=this.totalSize>this.maxScrollSize?(this.totalSize-this.maxScrollSize)/(this.pageCount-1):1,this.currentPageOffset=Math.round(this.currentPage*this.overlapSize),this.runwayElement.style[this.horizontal?"width":"height"]=this.scrollSize+"px",this.scrollTop>this.totalSize-this.viewportSize&&this.updateScrollTop(this.totalSize-this.viewportSize),this.currentPage===this.pageCount-1&&t&&t<this.overlapSize&&(this.prevViewportScrollTop=this.viewportScrollTo(this.prevViewportScrollTop-this.currentPage*(this.overlapSize-t)))}}},{key:"scrollTo",value:function(e){if(this.scrollTop!==e){this.updateScrollTop(e);var t=Math.floor(e/this.pageSize);this.setCurrentPage(t),this.prevViewportScrollTop=this.viewportScrollTo(e-this.currentPageOffset)}}},{key:"calc",value:function(e){return e-this.currentPageOffset}},{key:"destroy",value:function(){this.viewportElement.removeChild(this.runwayElement),this.removeScrollListener()}}]),i}();function l(e){var t="9999999999999999px",i=document.createElement("div"),o=i.style;o.position="absolute",o.left=t,o.top=t,document.body.appendChild(i);var l=i.getBoundingClientRect()[e?"left":"top"]||parseInt(t);return document.body.removeChild(i),Math.abs(l)}function r(e){for(;e.parentNode&&e.parentNode!==document;){var t=window.getComputedStyle(e).overflow;if("visible"!==t&&""!==t)break;e=e.parentNode}return e}function s(e,t){if(t===document.documentElement)return e.getBoundingClientRect().top-t.getBoundingClientRect().top;for(var i=0;e&&e.parentNode&&e!==t;){var o=e.parentNode;i="static"!==window.getComputedStyle(o).position?i+e.offsetTop:i+(e.offsetTop-o.offsetTop),e=o}return i}exports.Scrollbar=o;
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"NoOd"}],"JAsw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizeManager=void 0;var e=s(require("@babel/runtime/helpers/classCallCheck")),t=s(require("@babel/runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{default:e}}var i=50,u=function(){function s(){(0,e.default)(this,s),this.reset()}return(0,t.default)(s,null,[{key:"builder",value:function(){return new s}}]),(0,t.default)(s,[{key:"has",value:function(e){return this.sizes.has(e)}},{key:"measure",value:function(e){var t=this.sizes.get(e);void 0===t&&(t=0,this.measuredCount++);var s=e.offsetHeight;this.totalMeasuredSize+=s-t,this.sizes.set(e,s)}},{key:"getHopefulSize",value:function(e){var t=this.sizes.get(e);return void 0===t?this.getAverageSize():t}},{key:"getAverageSize",value:function(){return this.measuredCount>0?this.totalMeasuredSize/this.measuredCount:i}},{key:"remove",value:function(e){var t=this.sizes.get(e);void 0!==t&&(this.totalMeasuredSize-=t,this.measuredCount--,this.sizes.delete(e))}},{key:"reset",value:function(){this.sizes=new WeakMap,this.totalMeasuredSize=0,this.measuredCount=0}}]),s}();exports.SizeManager=u;
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"NoOd"}],"UdPf":[function(require,module,exports) {
"use strict";function e(e,o){var r={passive:!0,capture:!0},s=i();return"static"===e.style.position&&(e.style.position="relative"),e.appendChild(s),s.addEventListener("scroll",l,r),n(function(){return t(s)}),function(){s.removeEventListener("scroll",l,r),e.removeChild(s)};function l(i){l.prevElementHeight===e.offsetHeight&&l.prevElementWidth===e.offsetWidth||(l.prevElementHeight=e.offsetHeight,l.prevElementWidth=e.offsetWidth,t(i.currentTarget),o(e))}}function t(e){var t=e.firstChild,i=e.lastChild,o=t.offsetHeight,r=t.offsetWidth,s=t.scrollHeight,l=t.scrollWidth,d=i.scrollHeight,c=i.scrollWidth;function h(){t.scrollTop=s,t.scrollLeft=l,i.scrollTop=d,i.scrollLeft=c}n(function(){t.firstChild.style.height=o+1+"px",t.firstChild.style.width=r+1+"px",n(h)})}function i(){if(!i.resizeObserver){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),o="position: absolute; height: 100%; width: 100%; top:0; left:0; opacity: 0; visibility: hidden; z-index: -1; overflow: hidden; contain: paint size style; pointer-events: none;";e.setAttribute("style",o),t.setAttribute("style",o),n.setAttribute("style",o),t.style.overflow=n.style.overflow="auto",t.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),e.appendChild(t),e.appendChild(n),n.firstChild.style.height="200%",n.firstChild.style.width="200%",i.resizeObserver=e}return i.resizeObserver.cloneNode(!0)}function n(e){return"function"!=typeof window.queueMicrotask?window.Promise?window.Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})}):e():window.queueMicrotask(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addResizeListener=e;
},{}],"X7WK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VirtualScroller=void 0;var e=n(require("@babel/runtime/helpers/classCallCheck")),t=n(require("@babel/runtime/helpers/createClass")),r=require("./scrollbar"),i=require("./size-manager"),s=require("./resize-observer");function n(e){return e&&e.__esModule?e:{default:e}}var o=function(){function n(t,s){var o=this;(0,e.default)(this,n),this.viewportElement=t,this.itemCount=s.itemCount,this.onRemoveItem=s.onRemoveItem,this.itemBuilder=s.itemBuilder,this.bufferSize=s.hasOwnProperty("bufferSize")?s.bufferSize:1,this.sizeManager=i.SizeManager.builder(),this.expectedItemSize=s.itemSize||this.sizeManager.getAverageSize(),this.expectedTotalSize=this.itemCount*this.expectedItemSize,this.rendered={},this.range={start:0,end:0},this.prevScrollTop=s.scrollTop||0,this.throttleTime=50,this.scrollbar=r.Scrollbar.builder(this.viewportElement,{scrollTop:this.prevScrollTop,totalSize:this.expectedTotalSize,scrollListener:function(){return o.onScroll()}}),this.scheduleSync()}return(0,t.default)(n,null,[{key:"builder",value:function(e,t){return new n(e,t)}}]),(0,t.default)(n,[{key:"onScroll",value:function(){var e=this,t=this.scrollTop();window.clearTimeout(this.scrollThrottlingId),Math.abs(t-this.prevScrollTop)>this.scrollbar.viewportSize?this.scrollThrottlingId=setTimeout(function(){e.scheduleSync()},this.throttleTime):this.scheduleSync(),this.prevScrollTop=t}},{key:"scheduleSync",value:function(){var e=this;this.syncId=this.syncId||window.requestAnimationFrame(function(){e.syncId=null,e.sync()})}},{key:"sync",value:function(){this.render(this.createRangeForCurrentPosition())}},{key:"createRangeForCurrentPosition",value:function(){for(var e=this.scrollTop(),t=this.scrollbar.viewportSize,r=this.bufferSize*t,i=Math.max(e-r,0),s=e+t+r,n=Math.floor(i/this.expectedItemSize),o=this.range.start;o<=this.range.end;o++)if(this.rendered[o]&&this.rendered[o].offset+this.sizeManager.getHopefulSize(this.rendered[o])>i){n=o;break}for(var l=Math.ceil(s/this.expectedItemSize)-1,a=this.range.end;a>=this.range.start;a--)if(this.rendered[a]&&this.rendered[a].offset<s&&this.rendered[a].offset>=i){l=a;break}var h=this.sizeManager.getAverageSize(),d=this.rendered[n];d&&d.offset>i&&(n-=Math.ceil((d.offset-i)/h));var c=this.rendered[l];c&&c.offset+this.sizeManager.getHopefulSize(c)<s&&(l+=Math.ceil((s-(c.offset+this.sizeManager.getHopefulSize(c)))/h));var u=this.itemCount-1;return{start:Math.min(Math.max(n,0),u),end:Math.max(Math.min(l,u),0)}}},{key:"render",value:function(e){for(var t=this,r=this.findFirstVisibleItemIndex(),i=[],n=document.createDocumentFragment(),o=e.start;o<=e.end;o++)if(this.rendered[o])n.firstChild&&(this.viewportElement.insertBefore(n,this.rendered[o]),n=document.createDocumentFragment());else{var l=this.rendered[o]=this.createElement(o);i.push(l),n.appendChild(l)}this.viewportElement.appendChild(n),i.forEach(function(e){(0,s.addResizeListener)(e,function(){t.sizeManager.remove(e),t.scheduleSync()})});for(var a=this.range.start;a<=this.range.end;a++)(a<e.start||a>e.end)&&this.rendered[a]&&(this.onRemoveItem&&this.onRemoveItem(a),this.sizeManager.remove(this.rendered[a]),this.viewportElement.removeChild(this.rendered[a]),delete this.rendered[a]);for(var h=e.start;h<=e.end;h++)this.sizeManager.has(this.rendered[h])||this.sizeManager.measure(this.rendered[h]);if(this.rendered[r]&&e.start<r)for(var d=this.rendered[r].offset,c=r-1;c>=e.start;c--){var u=this.rendered[c];d-=this.sizeManager.getHopefulSize(u),this.positionElement(u,Math.max(d,0))}0===e.start&&this.rendered[0].offset>0&&(this.rendered[0].offset=0);for(var f=0,m=this.rendered[e.start],p=m&&m.offset?m.offset:e.start*this.expectedItemSize,v=e.start;v<=e.end;v++){var z=this.rendered[v];v===r&&(f=p-z.offset),this.positionElement(z,p),p+=this.sizeManager.getHopefulSize(z)}f&&this.scrollTo(this.scrollTop()+f);var S=p-e.end*this.expectedItemSize,g=this.scrollbar.totalSize-this.scrollbar.viewportSize,b=this.itemCount-1;this.scrollTop()>=g&&(p>this.scrollbar.totalSize||e.end<b)?this.scrollbar.updateTotalSize(this.expectedTotalSize+S):e.end===b&&this.scrollbar.updateTotalSize(p),this.range=e;var y=this.createRangeForCurrentPosition();y.start===e.start&&y.end===e.end||this.scheduleSync()}},{key:"findFirstVisibleItemIndex",value:function(){var e=this,t=this.scrollTop(),r=Object.keys(this.rendered).find(function(r){var i=e.rendered[r];return i.offset<=t&&i.offset+e.sizeManager.getHopefulSize(i)>t});return r?Number(r):-1}},{key:"createElement",value:function(e){var t=document.createElement("div");return t.setAttribute("index",String(e)),t.style.position="absolute",t.style.width="100%",t.appendChild(this.itemBuilder(e)),t}},{key:"positionElement",value:function(e,t){e.style.top=this.scrollbar.calc(t)+"px",e.offset=t}},{key:"scrollTop",value:function(){return this.scrollbar.scrollTop}},{key:"scrollTo",value:function(e){this.scrollbar.scrollTo(e)}},{key:"destroy",value:function(){this.scrollbar.destroy(),this.sizeManager=null,this.rendered=null,window.cancelAnimationFrame(this.syncId),window.clearTimeout(this.scrollThrottlingId),this.syncId=null,this.scrollThrottlingId=null}},{key:"updateItemCount",value:function(e){this.itemCount!==e&&(this.itemCount=e,this.expectedTotalSize=this.itemCount*this.expectedItemSize,this.scrollbar.updateTotalSize(this.expectedTotalSize),this.scheduleSync())}}]),n}();exports.VirtualScroller=o;
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"NoOd","./scrollbar":"ek76","./size-manager":"JAsw","./resize-observer":"UdPf"}],"H99C":[function(require,module,exports) {
"use strict";var e=require("../lib/virtual-scroller");function t(){var t=JSON.parse(decodeURIComponent(window.location.search.slice(1))||"{}"),n=t.itemCount||3e6,i=document.getElementById("app");t.window||(i.style.height="80vh",i.style.overflow="auto"),e.VirtualScroller.builder(i,Object.assign({itemCount:n,itemBuilder:function(e){var t=document.createElement("div");return t.style.padding="8px",t.innerHTML=e%2?"<b>".concat(e+1,"</b>/").concat(n," - Lorem Ipsum is simply dummy text"):"<b>".concat(e+1,"</b>/").concat(n," - Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book"),t}},t))}t();
},{"../lib/virtual-scroller":"X7WK"}]},{},["H99C"], null)
//# sourceMappingURL=src.1c202595.js.map